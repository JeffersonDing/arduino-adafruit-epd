author: Bj√∂rn Bilger <software@bbilger.com>
type: lib
description: Arduino Adafruit EDP library
version: 2.1.1-test
platforms: [esp8266, esp32]

sources:
  - src

includes:
  - include

config_schema:
  - ["aepd.spi_cs_index_sd", "i", 0, {title: "spi.cs*_gpio index for the SD card, 0, 1 or 2"}]
  - ["aepd.spi_cs_index_sram", "i", 1, {title: "spi.cs*_gpio index for the SRAM, 0, 1 or 2"}]
  - ["aepd.spi_cs_index_epd", "i", 2, {title: "spi.cs*_gpio index for the EDP, 0, 1 or 2"}]
  - ["aepd.epd_dc_pin", "i", -1, {title: "EPD DC pin"}]
  - ["aepd.epd_reset_pin", "i", -1, {title: "EPD reset pin"}]
  - ["aepd.epd_busy_pin", "i", -1, {title: "EPD busy pin"}]

conds:
  - when: mos.platform == "esp32"
    apply:
      config_schema:
        - ["spi.enable", true]
        - ["spi.mosi_gpio", 18]
        - ["spi.miso_gpio", 19]
        - ["spi.sclk_gpio", 5]
        - ["spi.cs0_gpio", 14] # SD card
        - ["spi.cs1_gpio", 32] # SRAM
        - ["spi.cs2_gpio", 15] # EPD
        - ["aepd.epd_dc_pin", 33] # EPD DC pin
  - when: mos.platform == "esp8266"
    apply:
      config_schema:
        - ["spi.enable", true]
        - ["spi.mosi_gpio", 13]
        - ["spi.miso_gpio", 12]
        - ["spi.sclk_gpio", 14]
        - ["spi.cs0_gpio", 2] # SD card
        - ["spi.cs1_gpio", 16] # SRAM
        - ["spi.cs2_gpio", 0] # EPD
        - ["aepd.epd_dc_pin", 15] # EPD DC pin

libs:
  - origin: https://github.com/mongoose-os-libs/arduino-adafruit-gfx
  - origin: https://github.com/mongoose-os-libs/arduino-spi

tags:
  - c
  - arduino
  - adafruit
  - e-ink
  - e-paper
  - docs:drivers:IL0373 SPI
  - docs:drivers:IL0398 SPI
  - docs:drivers:IL91874 SPI
  - docs:drivers:SSD1608 SPI
  - docs:drivers:SSD1675 SPI

manifest_version: 2017-09-29
